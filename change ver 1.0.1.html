<!DOCTYPE html>
<html>
<body>


<textarea id="myTextarea" rows="20" cols="50"></textarea>

<br><br>   
    
<button type="button" onclick="myFunction()">Try it</button>
<button onclick="copy()">Copy text</button>
<br><br>
<div id="myDIV2"></div>
<textarea id="myTextarea2" rows="20" cols="15" style="font-family: calibri;font-size: 15px"></textarea>

<div id="myDIV" style="font-family: calibri;font-size: 15px"></div>  
    
    
    
    
    
<script>
    
    
function myFunction() {

document.getElementById("myTextarea2").value = "";
    
//count result Var    
var count = 0;

//document.getElementById("myDIV").innerHTML = document.getElementById("myTextarea").value;

//regex formatting    
var str = document.getElementById("myTextarea").value;
//var z = str.split(/\n/); //for number under barcode
//var z  = str.split(/Number .|NNuummbbeerr: :|NNuummbbeerr ::|Number:/); //for Student: xxxxxx
var z = str.replace(/ /g, "").split(/[^\d]|1{8}/); //for only number can with barcode



//Happy function   
for (var i = 0; i < z.length; i++){

z[i] = z[i].replace(/[\r\n]+|\s+/g, "");
        
		if (!isNaN(z[i]) && z[i].length == 8 && Number(z[i])>20000000 ){ //for only number can with barcode
        //if (!isNaN(z[i]) && z[i].length == 8){ //for number under barcode
        //if (!isNaN(z[i].substring(0, 8)) && z[i].length >= 8) { //for Student: xxxxxx
            count++;
            document.getElementById("myDIV2").innerHTML = count;
            document.getElementById("myTextarea2").value += z[i].substring(0, 8) + '\n';
    	}
    }
}

//copy function
function copy() {
  var copyText = document.getElementById("myTextarea2");
  copyText.select();
  document.execCommand("copy");
}
    

    
</script>

    
    
    
    
    
    
    
    
    
    
    
</body>
</html>

